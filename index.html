<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sistem Laporan Warga — Single Page</title>
  <p>Halo para warga</p>
  <meta name="description" content="Demo single-page website untuk menampilkan laporan warga (lampu mati, sampah, kebocoran, dll).">

  <!-- Basic styles (modern, minimal) -->
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#94a3b8;
      --accent:#06b6d4;
      --glass: rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #071022 0%, #07162a 100%);
      color:#7697b9;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding:24px;
    }

    header{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:20px;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:48px;height:48px;border-radius:10px;
      background:linear-gradient(135deg, var(--accent), #7c3aed);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#012;
      box-shadow: 0 6px 18px rgba(6,182,212,0.12);
    }
    nav a{color:var(--muted); text-decoration:none; margin-left:12px; font-size:14px;}
    nav a:hover{color:var(--accent)}

    .container{max-width:1100px;margin:0 auto;}

    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:20px;border-radius:12px;margin-bottom:18px;border:1px solid rgba(255,255,255,0.03);
      display:flex;flex-direction:column;gap:12px;
    }
    .hero h1{margin:0;font-size:20px}
    .hero p{margin:0;color:var(--muted);font-size:14px}

    /* dashboard cards */
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin:14px 0 20px;}
    .card{
      background:var(--card);padding:14px;border-radius:10px;border:1px solid var(--glass);
      box-shadow: 0 8px 20px rgba(2,6,23,0.6);
    }
    .card .num{font-size:20px;font-weight:700}
    .card .label{color:var(--muted);font-size:13px}

    /* controls */
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px;align-items:center;}
    .controls input[type="search"], .controls select{
      padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);
      background:#071027;color:inherit;min-width:180px;
    }
    .controls button{
      padding:10px 14px;border-radius:8px;border:none;background:var(--accent);
      color:#012;font-weight:600;cursor:pointer;
    }
    .controls .muted{color:var(--muted);font-size:13px}

    /* table */
    .table-wrap{overflow:auto;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);}
    table{width:100%;border-collapse:collapse;min-width:720px}
    th,td{padding:10px 12px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:14px}
    th{color:var(--muted);font-size:13px}
    .badge{display:inline-block;padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.03);font-size:12px;color:var(--muted)}
    .platform-twitter{color:#1da1f2}
    .platform-facebook{color:#1877f2}
    .platform-instagram{color:#c32aa3}

    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}

    /* responsive adjustments */
    @media (max-width:640px){
      header{flex-direction:column;align-items:flex-start;gap:12px}
      .controls{flex-direction:column;align-items:stretch;}
      .hero{padding:14px}
      .logo{width:44px;height:44px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">LW</div>
        <div>
          <div style="font-weight:700">LaporWarga - Demo</div>
          <div style="font-size:12px;color:var(--muted)">Satu halaman, cepat & sederhana</div>
        </div>
      </div>

      <nav aria-label="Main navigation">
        <a href="#home">Home</a>
        <a href="#reports">Laporan</a>
        <a href="#about">Tentang</a>
      </nav>
    </header>

    <main>
      <section id="home" class="hero" role="region" aria-labelledby="hero-title">
        <h1 id="hero-title">Selamat datang — Sistem Laporan Warga (Single Page)</h1>
        <p>Halaman demo menampilkan daftar laporan warga yang bisa dicari dan difilter. Gunakan kotak pencarian atau filter platform untuk menyesuaikan tampilan.</p>
        <div class="cards" aria-hidden="false">
          <div class="card">
            <div class="num" id="total-count">0</div>
            <div class="label">Total Laporan</div>
          </div>
          <div class="card">
            <div class="num" id="twitter-count">0</div>
            <div class="label">Twitter</div>
          </div>
          <div class="card">
            <div class="num" id="facebook-count">0</div>
            <div class="label">Facebook</div>
          </div>
          <div class="card">
            <div class="num" id="instagram-count">0</div>
            <div class="label">Instagram</div>
          </div>
        </div>

        <div class="controls" role="search" aria-label="Pencarian laporan">
          <input id="q" type="search" placeholder="Cari kata kunci (mis. 'sampah', 'lampu')" />
          <select id="platform">
            <option value="all">Semua Platform</option>
            <option value="Twitter">Twitter</option>
            <option value="Facebook">Facebook</option>
            <option value="Instagram">Instagram</option>
          </select>
          <button id="clearBtn" type="button">Reset</button>
          <div class="muted" style="margin-left:auto">Total hasil: <span id="result-count">0</span></div>
        </div>
      </section>

      <section id="reports" style="margin-top:12px">
        <div class="table-wrap" role="region" aria-labelledby="reports-title">
          <h2 id="reports-title" style="margin:0 0 8px 0;font-size:16px">Daftar Laporan</h2>
          <table aria-describedby="reports-title" id="reportsTable">
            <thead>
              <tr>
                <th>#</th>
                <th>Platform</th>
                <th>Username</th>
                <th>Isi Laporan</th>
              </tr>
            </thead>
            <tbody>
              <!-- rows injected by JS -->
            </tbody>
          </table>
        </div>
      </section>

      <section id="about" style="margin-top:14px">
        <h3 style="margin:10px 0 6px 0">Tentang Demo</h3>
        <p style="margin:0;color:var(--muted)">Halaman ini dibuat sebagai contoh single-page HTML yang mudah dikembangkan menjadi aplikasi nyata (mis. menambahkan backend, pagination, atau fitur geotagging).</p>
      </section>
    </main>

    <footer>
      Dibuat dengan ❤️ — Demo single page • Kamu bisa mengunduh/menyimpan file ini sebagai <code>index.html</code>.
    </footer>
  </div>

  <!-- Script: contoh data & fungsi pencarian/filter -->
  <script>
    // SAMPLE DATA (diambil sebagian dari file JSON yang diupload pengguna)
    // Jika ingin menggunakan data asli, ganti variabel ini dengan fetch ke API atau file lokal.
    const reports = [
      { id:1, platform:"Twitter", username:"@warga123", isi:"Lampu jalan di Jl. Merdeka mati sudah seminggu."},
      { id:2, platform:"Facebook", username:"Rina S.", isi:"Sampah menumpuk di depan rumah saya di Jl. Sudirman."},
      { id:3, platform:"Instagram", username:"@budi_p", isi:"Air PDAM tidak mengalir sejak kemarin."},
      { id:4, platform:"Twitter", username:"@andi_88", isi:"Jalan berlubang di Jl. Ahmad Yani sangat berbahaya."},
      { id:5, platform:"Facebook", username:"Sari W.", isi:"Kebisingan dari pabrik mengganggu warga sekitar."}
    ];

    // Helper: render table rows based on a list
    function renderList(list){
      const tbody = document.querySelector('#reportsTable tbody');
      tbody.innerHTML = '';
      list.forEach((r, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${idx+1}</td>
          <td><span class="badge platform-${r.platform.toLowerCase()}">${r.platform}</span></td>
          <td>${escapeHtml(r.username)}</td>
          <td>${escapeHtml(r.isi)}</td>
        `;
        tbody.appendChild(tr);
      });

      document.getElementById('result-count').textContent = list.length;
      document.getElementById('total-count').textContent = reports.length;
      document.getElementById('twitter-count').textContent = reports.filter(r=>r.platform==="Twitter").length;
      document.getElementById('facebook-count').textContent = reports.filter(r=>r.platform==="Facebook").length;
      document.getElementById('instagram-count').textContent = reports.filter(r=>r.platform==="Instagram").length;
    }

    // Simple search + filter
    function applyFilters(){
      const q = document.getElementById('q').value.trim().toLowerCase();
      const platform = document.getElementById('platform').value;
      let filtered = reports.filter(r => {
        const text = (r.platform + ' ' + r.username + ' ' + r.isi).toLowerCase();
        const matchesQ = q ? text.includes(q) : true;
        const matchesPlatform = platform === 'all' ? true : r.platform === platform;
        return matchesQ && matchesPlatform;
      });
      renderList(filtered);
    }

    // sanitize text to avoid XSS when injecting
    function escapeHtml(unsafe) {
      return unsafe
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'",'&#039;');
    }

    // init
    document.addEventListener('DOMContentLoaded', () => {
      renderList(reports);

      // events
      document.getElementById('q').addEventListener('input', applyFilters);
      document.getElementById('platform').addEventListener('change', applyFilters);
      document.getElementById('clearBtn').addEventListener('click', () => {
        document.getElementById('q').value = '';
        document.getElementById('platform').value = 'all';
        applyFilters();
      });
    });
  </script>
</body>
</html>
